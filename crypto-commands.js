// Generated by CoffeeScript 1.12.4
var BigNumber, Table, colors, initCommands, tablePrint;

colors = require('colors');

BigNumber = require('bignumber.js');

Table = require('cli-table');

tablePrint = function(data) {
  var table;
  table = new Table();
  Object.keys(data).map(function(entry) {
    return table.push([entry, data[entry] && data[entry] || ""]);
  });
  return console.log(table.toString());
};

initCommands = function(program) {
  return program.command('crypto').description('Cryptocurrency Swiss Army Knife').option('--get-token-price <token>', 'Get token price from coinmarketcap.com: $ atlas crypto --get-token-price trueflip').option('--get-bch-address <address>', 'Get Bitcoin Cash Address Info').action(function(options) {
    var CRYPTO;
    CRYPTO = require('./crypto');
    if (options.getBchAddress) {
      return CRYPTO.getBchAddress({
        address: options.getBchAddress
      }).then(console.log)["catch"](console.log);
    }
    if (options.getTokenPrice) {
      return CRYPTO.getTokenPrice({
        token: options.getTokenPrice
      }).then(function(res) {
        return console.log(tablePrint(res[0]));
      })["catch"](console.log);
    }
  });
};

module.exports = initCommands;
